!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.onClickOutside={},e.React,e.ReactDOM)}(this,function(e,c,s){"use strict";var t,u,d=(void 0===t&&(t=0),function(){return++t}),l={},a={},i=["touchstart","touchmove"],n="ignore-react-onclickoutside";function p(e,t){var n=null;return-1!=i.indexOf(t)&&u&&(n={passive:!e.props.preventDefault}),n}e.IGNORE_CLASS_NAME=n,e.default=function(i,o){var e,t,r=i.displayName||i.name||"Component";return t=e=function(t){function e(e){var n;return(n=t.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof n.__clickOutsideHandlerProp){var t=n.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw Error("WrappedComponent: "+r+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else n.__clickOutsideHandlerProp(e)},n.__getComponentNode=function(){var e=n.getInstance();return o&&"function"==typeof o.setClickOutsideRef?o.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():s.findDOMNode(e)},n.enableOnClickOutside=function(){if("undefined"!=typeof document&&!a[n._uid]){void 0===u&&(u=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),a[n._uid]=!0;var e=n.props.eventTypes;e.forEach||(e=[e]),l[n._uid]=function(e){null!==n.componentNode&&(n.props.preventDefault&&e.preventDefault(),n.props.stopPropagation&&e.stopPropagation(),n.props.excludeScrollbar&&function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}(e)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(o=n,(i=e)===t||(i.correspondingElement?i.correspondingElement.classList.contains(o):i.classList.contains(o)))return!0;e=e.parentNode}var i,o;return e}(e.target,n.componentNode,n.props.outsideClickIgnoreClass)===document&&n.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,l[n._uid],p(n,e))})}},n.disableOnClickOutside=function(){delete a[n._uid];var t=l[n._uid];if(t&&"undefined"!=typeof document){var e=n.props.eventTypes;e.forEach||(e=[e]),e.forEach(function(e){return document.removeEventListener(e,t,p(n,e))}),delete l[n._uid]}},n.getRef=function(e){return n.instanceRef=e},n._uid=d(),n}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,t);var n=e.prototype;return n.getInstance=function(){if(!i.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},n.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(o&&"function"==typeof o.handleClickOutside&&(this.__clickOutsideHandlerProp=o.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw Error("WrappedComponent: "+r+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},n.componentDidUpdate=function(e){var t=e.disableOnClickOutside,n=this.props.disableOnClickOutside;this.componentNode=this.__getComponentNode(),t&&!n&&this.enableOnClickOutside(),!t&&n&&this.disableOnClickOutside()},n.componentWillUnmount=function(){this.disableOnClickOutside()},n.render=function(){var e=this.props,t=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(n=r[i])<0&&(o[n]=e[n]);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)t.indexOf(n=c[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["excludeScrollbar"]);return i.prototype.isReactComponent?t.ref=this.getRef:t.wrappedRef=this.getRef,t.disableOnClickOutside=this.disableOnClickOutside,t.enableOnClickOutside=this.enableOnClickOutside,c.createElement(i,t)},e}(c.Component),e.displayName="OnClickOutside("+r+")",e.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:o&&o.excludeScrollbar||!1,outsideClickIgnoreClass:n,preventDefault:!1,stopPropagation:!1},e.getClass=function(){return i.getClass?i.getClass():i},t},Object.defineProperty(e,"__esModule",{value:!0})});
